package DTool.modules.Exploits;

import DTool.modules.*;
import java.util.*;
import DTool.events.*;
import DTool.events.listeners.*;
import net.minecraft.client.*;
import net.minecraft.util.*;
import net.minecraft.nbt.*;
import net.minecraft.init.*;
import net.minecraft.item.*;

public class SpawnerPackager extends Module
{
    List itemList;
    
    public SpawnerPackager() {
        super("SpawnerPackager", 0, Category.Exploits);
    }
    
    @Override
    public void onDisable() {
    }
    
    @Override
    public boolean onEnable() {
        return this.toggled;
    }
    
    @Override
    public void onEvent(final Event event) {
        if (event instanceof EventUpdate) {
            Minecraft.getMinecraft();
            final ItemStack heldItem = Minecraft.thePlayer.getHeldItem();
            if (heldItem != null) {
                final NBTTagCompound tagCompound = new NBTTagCompound();
                final NBTTagCompound nbtTagCompound = new NBTTagCompound();
                final NBTTagList list = new NBTTagList();
                final NBTTagCompound nbtTagCompound2 = new NBTTagCompound();
                nbtTagCompound2.setByte("Slot", (byte)0);
                nbtTagCompound2.setString("id", ((ResourceLocation)Item.itemRegistry.getNameForObject(heldItem.getItem())).toString());
                nbtTagCompound2.setByte("Count", (byte)heldItem.stackSize);
                if (heldItem.hasTagCompound()) {
                    nbtTagCompound2.setTag("tag", heldItem.getTagCompound());
                }
                list.appendTag(nbtTagCompound2);
                nbtTagCompound.setTag("Items", list);
                tagCompound.setTag("BlockEntityTag", nbtTagCompound);
                final ItemStack itemStack = new ItemStack(Blocks.dispenser);
                itemStack.setTagCompound(tagCompound);
                itemStack.setStackDisplayName("§cAz aktu\u00e1lis §7itemedet§c tartalmazza.");
            }
        }
    }
}
